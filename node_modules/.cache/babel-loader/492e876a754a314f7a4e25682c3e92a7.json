{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\itap_ui\\\\src\\\\CallApp.js\";\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport AMR from './AMR.js';\nimport WaypointGatherer from './WaypointGatherer.js';\nimport StationDropdown from './StationDropdown.js';\nimport StationMenu from './StationMenu.js';\nvar instance = undefined;\nexport class CallApp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      access_token: '',\n      baseURL: '',\n      amr_ids: undefined,\n      active_graph_id: '',\n      amrs: undefined,\n      station_a: undefined,\n      station_b: undefined,\n      waypoints: undefined\n    };\n    this.getActiveGraph = this.getActiveGraph.bind(this);\n    this.getAMR = this.getAMR.bind(this);\n    this.handleGo = this.handleGo.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n    this.selectStationA = this.selectStationA.bind(this);\n    this.selectStationB = this.selectStationB.bind(this);\n  }\n\n  getActiveGraph() {\n    var self = this;\n    instance.get('/graphs/active').then(function (value) {\n      self.setState({\n        active_graph_id: value.data.id\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  getAMR() {\n    var self = this;\n    instance.get('/amrs/statuses').then(function (value) {\n      self.setState({\n        amrs: value.data\n      });\n      self.setState({\n        amr_ids: self.state.amrs.map(a => a[\"amr_id\"])\n      });\n    }).catch(function (error) {\n      console.log(\"error: \" + error);\n    });\n  }\n\n  selectStationA(station) {\n    this.setState({\n      station_a: station\n    });\n  }\n\n  selectStationB(station) {\n    this.setState({\n      station_b: station\n    });\n  }\n\n  handleGo(event) {\n    console.log(this.state.active_graph_id);\n    console.log(this.state.amrs); // MAKE API CALL TO PYTHON SCRIPT HERE!\n  }\n\n  UNSAFE_componentWillMount() {\n    this.setState({\n      access_token: this.props.access_token\n    });\n    this.setState({\n      baseURL: this.props.baseURL\n    });\n    instance = axios.create({\n      baseURL: this.props.baseURL\n    });\n    instance.defaults.headers.common['Authorization'] = 'Bearer ' + this.props.access_token;\n    instance.defaults.headers.post['Content-Type'] = 'application/json';\n    instance.defaults.headers.get['Content-Type'] = 'application/json';\n    this.getActiveGraph();\n  }\n\n  render() {\n    // if (this.state.amrs === undefined) {\n    //   this.getAMR();\n    // }\n    // else {\n    return React.createElement(\"div\", {\n      className: \"CallApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Button, {\n      value: \"Initiate\",\n      variant: \"contained\",\n      onClick: this.handleGo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"GO\"), React.createElement(Button, {\n      value: \"Initiate\",\n      variant: \"contained\",\n      onClick: this.handleReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"RESET\"), React.createElement(StationDropdown, {\n      className: \"selectStationA\",\n      imprint: \"station\",\n      access_token: this.state.access_token,\n      baseURL: this.state.baseURL,\n      onChange: this.selectStationA,\n      active_graph_id: this.state.active_graph_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(StationDropdown, {\n      className: \"selectStationB\",\n      imprint: \"station\",\n      access_token: this.state.access_token,\n      baseURL: this.state.baseURL,\n      onChange: this.selectStationB,\n      active_graph_id: this.state.active_graph_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    })); // }\n  }\n\n}\nexport default CallApp;","map":{"version":3,"sources":["C:\\Users\\User\\Desktop\\itap_ui\\src\\CallApp.js"],"names":["React","Button","axios","AMR","WaypointGatherer","StationDropdown","StationMenu","instance","undefined","CallApp","Component","constructor","props","state","access_token","baseURL","amr_ids","active_graph_id","amrs","station_a","station_b","waypoints","getActiveGraph","bind","getAMR","handleGo","handleSelect","selectStationA","selectStationB","self","get","then","value","setState","data","id","catch","error","console","log","map","a","station","event","UNSAFE_componentWillMount","create","defaults","headers","common","post","render","handleReset"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport AMR from './AMR.js';\r\nimport WaypointGatherer from './WaypointGatherer.js';\r\nimport StationDropdown from './StationDropdown.js';\r\nimport StationMenu from './StationMenu.js';\r\n\r\nvar instance = undefined;\r\n\r\nexport class CallApp extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      access_token: '',\r\n      baseURL: '',\r\n      amr_ids: undefined,\r\n      active_graph_id: '',\r\n      amrs: undefined,\r\n      station_a: undefined,\r\n      station_b: undefined,\r\n      waypoints: undefined\r\n    }\r\n\r\n    this.getActiveGraph = this.getActiveGraph.bind(this);\r\n\r\n    this.getAMR = this.getAMR.bind(this);\r\n    this.handleGo = this.handleGo.bind(this);\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n    this.selectStationA = this.selectStationA.bind(this);\r\n    this.selectStationB = this.selectStationB.bind(this);\r\n  }\r\n\r\n  getActiveGraph() {\r\n    var self = this;\r\n\r\n    instance.get('/graphs/active').then(function(value) {\r\n      self.setState({active_graph_id: value.data.id});\r\n    }).catch(function(error) {\r\n      console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  getAMR() {\r\n    var self = this;\r\n\r\n    instance.get('/amrs/statuses').then(function(value) {\r\n      self.setState({amrs: value.data});\r\n      self.setState({amr_ids: self.state.amrs.map(a => a[\"amr_id\"])});\r\n    }).catch(function(error) {\r\n      console.log(\"error: \" + error);\r\n    })\r\n  }\r\n\r\n  selectStationA(station) {\r\n    this.setState({station_a: station});\r\n  }\r\n\r\n  selectStationB(station) {\r\n    this.setState({station_b: station});\r\n  }\r\n\r\n  handleGo(event) {\r\n    console.log(this.state.active_graph_id);\r\n    console.log(this.state.amrs);\r\n    // MAKE API CALL TO PYTHON SCRIPT HERE!\r\n  }\r\n\r\n  UNSAFE_componentWillMount() {\r\n    this.setState({access_token: this.props.access_token});\r\n    this.setState({baseURL: this.props.baseURL});\r\n\r\n    instance = axios.create({baseURL: this.props.baseURL});\r\n    instance.defaults.headers.common['Authorization'] = 'Bearer ' + this.props.access_token;\r\n    instance.defaults.headers.post['Content-Type'] = 'application/json';\r\n    instance.defaults.headers.get['Content-Type'] = 'application/json';\r\n\r\n    this.getActiveGraph();\r\n  }\r\n\r\n  render() {\r\n\r\n    // if (this.state.amrs === undefined) {\r\n    //   this.getAMR();\r\n    // }\r\n    // else {\r\n      return (\r\n        <div className=\"CallApp\">\r\n          <Button value=\"Initiate\"\r\n                  variant=\"contained\"\r\n                  onClick={this.handleGo}>GO</Button>\r\n\r\n          <Button value=\"Initiate\"\r\n                  variant=\"contained\"\r\n                  onClick={this.handleReset}>RESET</Button>\r\n\r\n          <StationDropdown className=\"selectStationA\"\r\n                           imprint=\"station\"\r\n                           access_token={this.state.access_token}\r\n                           baseURL={this.state.baseURL}\r\n                           onChange={this.selectStationA}\r\n                           active_graph_id={this.state.active_graph_id}/>\r\n\r\n         <StationDropdown className=\"selectStationB\"\r\n                          imprint=\"station\"\r\n                          access_token={this.state.access_token}\r\n                          baseURL={this.state.baseURL}\r\n                          onChange={this.selectStationB}\r\n                          active_graph_id={this.state.active_graph_id}/>\r\n         </div>\r\n       )\r\n     // }\r\n  }\r\n}\r\n\r\nexport default CallApp;\r\n"]},"metadata":{},"sourceType":"module"}