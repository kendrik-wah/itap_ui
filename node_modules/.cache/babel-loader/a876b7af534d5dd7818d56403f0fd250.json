{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\itap_ui\\\\src\\\\StationDropdown.js\";\nimport React from 'react';\nimport SimpleMenu from './StationMenu.js';\nimport axios from 'axios';\nvar instance;\nvar arbiter;\nvar pts;\nvar lst = [\"Profile\", \"My account\", \"Logout\"];\nexport class StationDropdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imprint: '',\n      active_graph_id: '',\n      waypoints: [],\n      selectedPoint: ''\n    };\n    this.getWaypoints = this.getWaypoints.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  getWaypoints() {\n    var self = this;\n    const url = '/graphs?ids=' + self.state.active_graph_id;\n\n    if (self.state.waypoints === undefined && self.state.active_graph_id !== '') {\n      instance.get(url).then(function (value) {\n        self.state.waypoints = value.data[0].waypoints.filter(waypoint => waypoint.type === self.state.imprint);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  handleChange(event) {\n    this.setState({\n      selectedPoint: event.value\n    });\n    arbiter.onChange(this.state.selectedPoint);\n  }\n\n  handleSelect(point) {\n    this.setState({\n      selectedPoint: point\n    });\n    this.props.onChange(point);\n  }\n\n  UNSAFE_componentWillMount() {\n    instance = axios.create({\n      baseURL: this.props.baseURL\n    });\n    instance.defaults.headers.common['Authorization'] = 'Bearer ' + this.props.access_token;\n    instance.defaults.headers.post['Content-Type'] = 'application/json';\n    instance.defaults.headers.get['Content-Type'] = 'application/json';\n\n    if (this.state.imprint === '') {\n      this.state.imprint = this.props.imprint;\n    }\n\n    if (this.state.active_graph_id === '') {\n      this.state.active_graph_id = this.props.active_graph_id;\n    }\n  }\n\n  render() {\n    this.state.access_token = this.props.access_token;\n    this.state.baseURL = this.props.baseURL;\n    this.state.imprint = this.props.imprint;\n    this.state.active_graph_id = this.props.active_graph_id;\n    this.getWaypoints();\n\n    if (lst.length !== 0) {\n      return React.createElement(SimpleMenu, {\n        waypoints: lst,\n        className: \"StationDropdown_SimpleMenu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Loading...\");\n    }\n  }\n\n}\nexport default StationDropdown;","map":{"version":3,"sources":["C:\\Users\\User\\Desktop\\itap_ui\\src\\StationDropdown.js"],"names":["React","SimpleMenu","axios","instance","arbiter","pts","lst","StationDropdown","Component","constructor","props","state","imprint","active_graph_id","waypoints","selectedPoint","getWaypoints","bind","handleChange","handleSelect","self","url","undefined","get","then","value","data","filter","waypoint","type","catch","error","console","log","event","setState","onChange","point","UNSAFE_componentWillMount","create","baseURL","defaults","headers","common","access_token","post","render","length"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport SimpleMenu from './StationMenu.js';\r\nimport axios from 'axios';\r\n\r\nvar instance;\r\nvar arbiter;\r\nvar pts;\r\nvar lst = [\"Profile\", \"My account\", \"Logout\"]\r\n\r\nexport class StationDropdown extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      imprint: '',\r\n      active_graph_id: '',\r\n      waypoints: [],\r\n      selectedPoint: ''\r\n    }\r\n\r\n    this.getWaypoints = this.getWaypoints.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n   }\r\n\r\n  getWaypoints() {\r\n    var self = this;\r\n\r\n    const url = '/graphs?ids=' + self.state.active_graph_id;\r\n\r\n    if (self.state.waypoints === undefined && self.state.active_graph_id !== '') {\r\n      instance.get(url).then(function(value) {\r\n        self.state.waypoints = value.data[0].waypoints.filter(waypoint => waypoint.type === self.state.imprint);\r\n      }).catch(function(error) {\r\n        console.log(error);\r\n      })\r\n    }\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({selectedPoint: event.value});\r\n    arbiter.onChange(this.state.selectedPoint);\r\n  }\r\n\r\n  handleSelect(point) {\r\n    this.setState({selectedPoint: point});\r\n    this.props.onChange(point);\r\n  }\r\n\r\n  UNSAFE_componentWillMount() {\r\n\r\n    instance = axios.create({baseURL: this.props.baseURL});\r\n    instance.defaults.headers.common['Authorization'] = 'Bearer ' + this.props.access_token;\r\n    instance.defaults.headers.post['Content-Type'] = 'application/json';\r\n    instance.defaults.headers.get['Content-Type'] = 'application/json';\r\n\r\n    if (this.state.imprint === '') {\r\n      this.state.imprint = this.props.imprint;\r\n    }\r\n\r\n    if (this.state.active_graph_id === '') {\r\n      this.state.active_graph_id = this.props.active_graph_id;\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    this.state.access_token = this.props.access_token;\r\n    this.state.baseURL = this.props.baseURL;\r\n    this.state.imprint = this.props.imprint;\r\n    this.state.active_graph_id = this.props.active_graph_id;\r\n\r\n    this.getWaypoints();\r\n\r\n    if (lst.length !== 0) {\r\n      return (\r\n        <SimpleMenu waypoints={lst}\r\n                    className=\"StationDropdown_SimpleMenu\"/>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <p>Loading...</p>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default StationDropdown;\r\n"]},"metadata":{},"sourceType":"module"}